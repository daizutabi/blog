<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="../../../theme/stylesheet/style.css">
  <link rel="stylesheet" type="text/css" href="../../../theme/stylesheet/pheasant.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css" rel="stylesheet">

  <link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
  <title>大豆旅 &ndash; AtomにおけるPython開発環境構築 その2</title>
</head>

<body>
  <aside>
    <div>
      <a href="../../..">
        <img src="https://www.gravatar.com/avatar/425bf792666d158202306d5dc73367d0?s=140" />
      </a>
      <h1><a href="../../..">大豆旅</a></h1>


    </div>
  </aside>
  <main>

<article class="single">
  <header>
    <h1 id="atomniokerupythonkai-fa-huan-jing-gou-zhu-sono2">AtomにおけるPython開発環境構築 その2</h1>
    <p>Posted on 2019年02月15日 (金) in <a href="../../../category/Atom/">Atom</a>
</p>
  </header>
  <div>
<p>AtomテキストエディタにPython開発環境を構築します。細かい設定を丁寧に説明し、快適な開発環境を整備することを目指します。</p>
<!-- PELICAN_END_SUMMARY -->

<p>それでは，Python開発に役立つパッケージを紹介していきます．各節のヘッダがパッケージ名になっているので，特に記載のない限り，その名前でパッケージを検索してインストールしてください．その後，Settings，Keymap，Stylesheetの各項目を必要に応じて設定していきます．</p>
<h2><span class="pheasant-header"><span class="header"><span class="number">0.1</span> <span class="title">platformio-ide-terminal</span></span></span></h2>
<p>Atom内でターミナルを実行します．</p>
<h3><span class="pheasant-header"><span class="header"><span class="number">0.1.1</span> <span class="title">Settings</span></span></span></h3>
<ul>
<li>Auto Run Command: C:\Users\daizu\Miniconda3\Scripts\activate.bat base</li>
<li>Shell Override: C:\Windows\System32\cmd.exe</li>
</ul>
<h2><span class="pheasant-header"><span class="header"><span class="number">0.2</span> <span class="title">vim-mode-plus, ex-mode, vim-mode-plus-keymaps-for-surround, cursor-history, quick-highlight</span></span></span></h2>
<p>AtomでVimキーバインドを実現します。</p>
<h3><span class="pheasant-header"><span class="header"><span class="number">0.2.1</span> <span class="title">Settings</span></span></span></h3>
<p>vim-mode-plusで、以下のキーマップを有効にします．</p>
<ul>
<li><code>Y</code>: 'yank-to-last-character-of-line'</li>
<li><code>_</code>: 'replace-with-register'</li>
<li><code>c c</code>: 'change inner-smart-word'</li>
<li><code>;</code>: 'inner-any-pair' in 'operator-pending-mode'</li>
<li><code>;</code>: 'inner-any-pair' in 'visual-mode'</li>
</ul>
<p>以下の設定を有効にします．</p>
<ul>
<li>Automatically Escape Insert Mode On Activate Pane Item Change</li>
</ul>
<h3><span class="pheasant-header"><span class="header"><span class="number">0.2.2</span> <span class="title">Keymap</span></span></span></h3>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="cson">&#39;atom-text-editor.vim-mode-plus:not(.insert-mode)&#39;:
  &#39;j&#39;: &#39;vim-mode-plus:move-down-screen&#39;
  &#39;k&#39;: &#39;vim-mode-plus:move-up-screen&#39;
  &#39;g j&#39;: &#39;vim-mode-plus:move-down&#39;
  &#39;g k&#39;: &#39;vim-mode-plus:move-up&#39;
  &#39;ctrl-m&#39;: &#39;vim-mode-plus-user:quick-highlight-word&#39;
  &#39;g m&#39;: &#39;vim-mode-plus-user:quick-highlight&#39;
  &#39;space m&#39;: &#39;quick-highlight:clear&#39;
  &#39;space space&#39;: &#39;command-palette:toggle&#39;

&#39;atom-text-editor.vim-mode-plus.normal-mode&#39;:
  &#39;s&#39;: &#39;vim-mode-plus:nop&#39;
  &#39;s f&#39;: &#39;tree-view:toggle-focus&#39;
  &#39;s v&#39;: &#39;pane:split-left-and-copy-active-item&#39;
  &#39;s s&#39;: &#39;pane:split-up-and-copy-active-item&#39;
  &#39;s j&#39;: &#39;window:focus-pane-below&#39;
  &#39;s k&#39;: &#39;window:focus-pane-above&#39;
  &#39;s h&#39;: &#39;window:focus-pane-on-left&#39;
  &#39;s l&#39;: &#39;window:focus-pane-on-right&#39;
  &#39;s n&#39;: &#39;window:focus-next-pane&#39;
  &#39;s p&#39;: &#39;window:focus-previous-pane&#39;
  &#39;s 1&#39;: &#39;pane:show-item-1&#39;
  &#39;s 2&#39;: &#39;pane:show-item-2&#39;
  &#39;s 3&#39;: &#39;pane:show-item-3&#39;
  &#39;s 4&#39;: &#39;pane:show-item-4&#39;
  &#39;s 5&#39;: &#39;pane:show-item-5&#39;
  &#39;s 6&#39;: &#39;pane:show-item-6&#39;
  &#39;s 7&#39;: &#39;pane:show-item-7&#39;
  &#39;s 8&#39;: &#39;pane:show-item-8&#39;
  &#39;s 9&#39;: &#39;pane:show-item-9&#39;
  &#39;s c&#39;: &#39;pane:close&#39;
  &#39;g &gt;&#39;: &#39;vim-mode-plus:rotate-arguments-of-inner-pair&#39;
  &#39;g &lt;&#39;: &#39;vim-mode-plus:rotate-arguments-backwards-of-inner-pair&#39;
  &#39;ctrl-i&#39;: &#39;cursor-history:next&#39;
  &#39;ctrl-o&#39;: &#39;cursor-history:prev&#39;

&#39;.tree-view&#39;:
  &#39;s f&#39;: &#39;tree-view:toggle-focus&#39;</code></pre>
<p class="report"><span class="count">[1]</span>
<span class="start">2019-03-30 13:25:11</span> (<span class="elasped">15.7ms</span>)
<span class="right"><span class="kernel"></span><span class="count"> [3]</span>
</span></p></div></div></div>

<h2><span class="pheasant-header"><span class="header"><span class="number">0.3</span> <span class="title">MagicPython</span></span></span></h2>
<p>Pythonコードのシンタックスハイライターに，MagicPythonを使います．コアパッケージのlanguage-pythonはdisableにします．</p>
<h3><span class="pheasant-header"><span class="header"><span class="number">0.3.1</span> <span class="title">Settings</span></span></span></h3>
<ul>
<li>Tab Type: soft</li>
</ul>
<h3><span class="pheasant-header"><span class="header"><span class="number">0.3.2</span> <span class="title">Stylesheet</span></span></span></h3>
<p>色の設定を追加します．[File] &gt; [Stylesheet]を選択して，<code>styles.less</code>を開き，次の行を追加します．好みに応じて変更してください．</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="css">/* styles.less */
atom-text-editor .syntax--source.syntax--python {
  .syntax--keyword.syntax--control,
  .syntax--keyword.syntax--operator.syntax--logical,
  .syntax--storage.syntax--type {
    /* font-weight: bold; */
  }

  .syntax--entity.syntax--name.syntax--function.syntax--decorator {
    color: #6590FF;
  }

  .syntax--self {
    font-style: italic;
    color: #A57083;
  }

  .syntax--fstring {
    color: #6c65ff;
  }

  .syntax--function.syntax--magic,
  .syntax--magic {
    color: #63AA63;
  }

  .syntax--docstring,
  .syntax--docstring .syntax--punctuation {
    color: #666666;
  }

  .syntax--import.syntax--keyword.syntax--control {
    color: #A69646;
  }

  .syntax--support.syntax--function.syntax--builtin {
    color: #A69666;
  }

  .syntax--support.syntax--type.syntax--python {
    color: #A696A6;
  }

  .syntax--arithmetic.syntax--operator,
  .syntax--keyword.syntax--unpacking {
    color: #76A6A6;
  }

  .syntax--numeric {
    color: #D69696;
  }

  .syntax--constant.syntax--other {
    color: #D69696;
  }
}</code></pre>
<p class="report"><span class="count">[2]</span>
<span class="start">2019-03-30 13:25:11</span> (<span class="elasped">15.7ms</span>)
<span class="right"><span class="kernel"></span><span class="count"> [3]</span>
</span></p></div></div></div>

<h2><span class="pheasant-header"><span class="header"><span class="number">0.4</span> <span class="title">atom-ide-ui, ide-python</span></span></span></h2>
<p>Minicondaの仮想環境<code>atom</code>を作成します。</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="bash">(base) &gt; conda create -n atom python
(base) &gt; activate atom
(atom) &gt; pip install python-language-server[all]
(atom) &gt; pip install pyls-isort pyls-mypy</code></pre>
<p class="report"><span class="count">[3]</span>
<span class="start">2019-03-30 13:25:11</span> (<span class="elasped">15.7ms</span>)
<span class="right"><span class="kernel"></span><span class="count"> [3]</span>
</span></p></div></div></div>

<p>Atom実行時のパスに、Pythonの仮想環境を追加します。AtomのFile-&gt;Init Script...でinit.coffeeを開き、</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="javascript">process.env.PATH = [&#34;C:\\Users\\daizu\\Miniconda3\\envs\\atom;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Scripts&#34;, process.env.PATH].join(&#34;;&#34;)</code></pre>
<p class="report"><span class="count">[4]</span>
<span class="start">2019-03-30 13:25:12</span> (<span class="elasped">578ms</span>)
<span class="right"><span class="kernel">javascript</span><span class="count"> [1]</span>
</span></p></div><div class="output"><pre><code class="text">&#39;C:\\Users\\daizu\\Miniconda3\\envs\\atom;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\daizu;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\mingw-w64\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\usr\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\bin;C:\\Users\\daizu\\Miniconda3\\condabin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\libnvvp;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\iCLS\\;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\iCLS\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Users\\daizu\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\daizu\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\daizu\\AppData\\Local\\bin;C:\\Local\\texlive\\2018\\bin\\win32;C:\\Users\\daizu\\AppData\\Local\\atom\\bin&#39;</code></pre></div></div></div>

<p>を追加します。</p>
<p><a href="https://github.com/facebookarchive/atom-ide-ui/blob/master/docs/keybindings.md">キーマッピング</a></p>
<h2><span class="pheasant-header"><span class="header"><span class="number">0.5</span> <span class="title">Hydrogen</span></span></span></h2>
<p>Jupyter clientを使って，Atom上でPythonコードの実行ができます．インタラクティブな実行が可能なので，非常に重宝します．Hydrogenを使う仮想環境下(仮に<code>example</code>とします)で，以下を実行します。</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="bash">(base) &gt; conda create -n daizu python
(base) &gt; active daizu
(daizu) &gt; conda install jupyter
(daizu) &gt; python -m ipykernel install --user --name daizu</code></pre>
<p class="report"><span class="count">[5]</span>
<span class="start">2019-03-30 13:25:12</span> (<span class="elasped">578ms</span>)
<span class="right"><span class="kernel"></span><span class="count"> [1]</span>
</span></p></div></div></div>

<p>Atom実行時のパスに、Pythonの仮想環境を追加します。AtomのFile-&gt;Init Script...でinit.coffeeを開き、以下のように変更します。</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="javascript">process.env.PATH = [&#34;C:\\Users\\daizu\\Miniconda3\\envs\\atom;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\daizu;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Scripts&#34;, process.env.PATH].join(&#34;;&#34;)</code></pre>
<p class="report"><span class="count">[6]</span>
<span class="start">2019-03-30 13:25:12</span> (<span class="elasped">15.6ms</span>)
<span class="right"><span class="kernel">javascript</span><span class="count"> [2]</span>
</span></p></div><div class="output"><pre><code class="text">&#39;C:\\Users\\daizu\\Miniconda3\\envs\\atom;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\daizu;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\atom;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\atom\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\daizu;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\mingw-w64\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\usr\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Library\\bin;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\Scripts;C:\\Users\\daizu\\Miniconda3\\envs\\daizu\\bin;C:\\Users\\daizu\\Miniconda3\\condabin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\libnvvp;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\iCLS\\;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\iCLS\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Users\\daizu\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\daizu\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\daizu\\AppData\\Local\\bin;C:\\Local\\texlive\\2018\\bin\\win32;C:\\Users\\daizu\\AppData\\Local\\atom\\bin&#39;</code></pre></div></div></div>

<h3><span class="pheasant-header"><span class="header"><span class="number">0.5.1</span> <span class="title">Keymap</span></span></span></h3>
<div class="pheasant-fenced-code"><div class="cached"><div class="input"><pre><code class="cson">&#39;atom-text-editor&#39;:
  &#39;f8&#39;: &#39;hydrogen:clear-results&#39;
  &#39;f9&#39;: &#39;hydrogen:run-all-above&#39;
  &#39;f10&#39;: &#39;hydrogen:run-all&#39;</code></pre>
<p class="report"><span class="count">[7]</span>
<span class="start">2019-03-30 13:25:12</span> (<span class="elasped">15.6ms</span>)
<span class="right"><span class="kernel"></span><span class="count"> [2]</span>
</span></p></div></div></div>

<h2><span class="pheasant-header"><span class="header"><span class="number">0.6</span> <span class="title">その他のパッケージ</span></span></span></h2>
<p>Pythonとは直接関係ないですが，以下のパッケージもインストールするとよいでしょう．</p>
<ul>
<li>tab-numbers</li>
<li>busy-signal</li>
<li>git-plus</li>
<li>file-icons</li>
<li>minimap系</li>
</ul>
<p>以上で，開発環境が整いました．</p></div>

</article>

    <footer>
    </footer>
  </main>
</body>

</html>